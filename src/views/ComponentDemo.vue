<template>
  <div class="component-demo-page">
    <section id="input" class="component-section">
      <h2>è¾“å…¥æ¡†ç»„ä»¶ (QInput)</h2>
      <p class="component-desc">åŸºç¡€çš„è¾“å…¥æ¡†ç»„ä»¶ï¼Œæ”¯æŒæ¸…é™¤ã€ç¦ç”¨ã€é”™è¯¯æç¤ºç­‰åŠŸèƒ½ã€‚</p>
      <div class="component-demo">
        <QInput
          v-model="formData.username"
          label="ç”¨æˆ·å"
          placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
          required
          clearable
        />
        <QInput
          v-model="formData.email"
          label="é‚®ç®±"
          type="email"
          placeholder="è¯·è¾“å…¥é‚®ç®±"
          error="é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
        />
        <QInput
          v-model="formData.disabled"
          label="ç¦ç”¨çŠ¶æ€"
          disabled
        />
      </div>
    </section>

    <section id="search" class="component-section">
      <h2>æœç´¢æ¡†ç»„ä»¶ (QSearch)</h2>
      <p class="component-desc">å¸¦ä¸‹æ‹‰å»ºè®®çš„æœç´¢æ¡†ç»„ä»¶ï¼Œæ”¯æŒæœç´¢å›¾æ ‡ã€æ¸…é™¤æŒ‰é’®å’Œæœç´¢å»ºè®®åˆ—è¡¨ã€‚</p>
      <div class="component-demo">
        <QSearch
          v-model="searchValue"
          label="æœç´¢"
          placeholder="æœç´¢ä»»åŠ¡ã€é¡¹ç›®..."
          :suggestions="searchSuggestions"
          @search="handleSearch"
        />
        <QSearch
          v-model="searchWithButton"
          placeholder="å¸¦æŒ‰é’®çš„æœç´¢æ¡†"
          :suggestions="searchSuggestions"
          show-search-button
          @search="handleSearch"
        />
      </div>
    </section>

    <section id="select" class="component-section">
      <h2>ä¸‹æ‹‰æ¡†ç»„ä»¶ (QSelect)</h2>
      <p class="component-desc">æ”¯æŒæœç´¢è¿‡æ»¤çš„ä¸‹æ‹‰é€‰æ‹©ç»„ä»¶ï¼Œè‡ªå®šä¹‰é€‰é¡¹é”®å€¼é…ç½®ã€‚</p>
      <div class="component-demo">
        <QSelect
          v-model="formData.priority"
          label="ä¼˜å…ˆçº§"
          :options="priorityOptions"
          placeholder="è¯·é€‰æ‹©ä¼˜å…ˆçº§"
          required
        />
        <QSelect
          v-model="formData.status"
          label="çŠ¶æ€ (æ”¯æŒæœç´¢)"
          :options="statusOptions"
          filterable
        />
      </div>
    </section>

    <section id="user-select" class="component-section">
      <h2>äººå‘˜é€‰æ‹©ç»„ä»¶ (QUserSelect)</h2>
      <p class="component-desc">æ”¯æŒå•é€‰å’Œå¤šé€‰çš„äººå‘˜é€‰æ‹©å™¨ï¼Œå¸¦å¤´åƒå±•ç¤ºå’Œæœç´¢è¿‡æ»¤åŠŸèƒ½ã€‚</p>
      <div class="component-demo">
        <QUserSelect
          v-model="formData.assignee"
          label="æŒ‡æ´¾äºº (å•é€‰)"
          :values="userList"
          placeholder="é€‰æ‹©æŒ‡æ´¾äºº"
        />
        <QUserSelect
          v-model="formData.watchers"
          label="å…³æ³¨è€… (å¤šé€‰)"
          :values="userList"
          multiple
          placeholder="é€‰æ‹©å…³æ³¨è€…"
        />
      </div>
    </section>

    <section id="richtext" class="component-section">
      <h2>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ (QRichText)</h2>
      <p class="component-desc">åŸºäº WangEditor çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç»„ä»¶ï¼Œæ”¯æŒå®Œæ•´çš„å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚</p>
      <div class="component-demo">
        <QRichText
          v-model="formData.description"
          label="æè¿°"
          placeholder="è¯·è¾“å…¥è¯¦ç»†æè¿°..."
          height="200px"
        />
      </div>
    </section>

    <section id="tag-input" class="component-section">
      <h2>æ ‡ç­¾è¾“å…¥æ¡† (QTagInput)</h2>
      <p class="component-desc">æ”¯æŒæ ‡ç­¾å±•ç¤ºå’Œç¼–è¾‘çš„è¾“å…¥æ¡†ç»„ä»¶ï¼ŒæŒ‰å›è½¦æˆ–é€—å·æ·»åŠ æ ‡ç­¾ã€‚</p>
      <div class="component-demo">
        <QTagInput
          v-model="formData.tags"
          label="æ ‡ç­¾"
          placeholder="è¾“å…¥æ ‡ç­¾ï¼ŒæŒ‰å›è½¦æ·»åŠ "
        />
        <QTagInput
          v-model="formData.labels"
          label="åˆ†ç±»æ ‡ç­¾"
          placeholder="è¾“å…¥å¤šä¸ªæ ‡ç­¾ï¼Œç”¨é€—å·åˆ†éš”"
          separator=","
        />
      </div>
    </section>

    <section id="preview" class="component-section">
      <h2>è¡¨å•æ•°æ®é¢„è§ˆ</h2>
      <div class="data-preview">
        <pre>{{ JSON.stringify(formData, null, 2) }}</pre>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'
import QInput from '../components/QInput/index.vue'
import QSearch from '../components/QSearch/index.vue'
import QSelect from '../components/QSelect/index.vue'
import QUserSelect from '../components/QUserSelect/index.vue'
import QRichText from '../components/QRichText/index.vue'
import QTagInput from '../components/QTagInput/index.vue'

const formData = reactive({
  username: '',
  email: '',
  disabled: 'è¿™æ˜¯ç¦ç”¨çŠ¶æ€',
  priority: '',
  status: '',
  assignee: '',
  watchers: [],
  description: '',
  tags: ['æµ‹è¯•', 'å®šæ—¶ä»»åŠ¡'],
  labels: []
})

const searchValue = ref('')
const searchWithButton = ref('')

const searchSuggestions = [
  {
    icon: 'âœ“',
    iconColor: '#52c41a',
    title: 'cld-esé€‚é…å½•å±',
    code: 'UG-646789'
  },
  {
    icon: 'ğŸ›',
    iconColor: '#ff4d4f',
    title: 'ä¿®å¤ç”¨æˆ·ç™»å½•å¼‚å¸¸é—®é¢˜',
    code: 'BUG-123456'
  },
  {
    icon: 'ğŸ“‹',
    iconColor: '#1890ff',
    title: 'ä¼˜åŒ–é¡¹ç›®çœ‹æ¿æ€§èƒ½',
    code: 'TASK-789012'
  },
  {
    icon: 'âš¡',
    iconColor: '#faad14',
    title: 'å®ç°å®æ—¶æ¶ˆæ¯æ¨é€åŠŸèƒ½',
    code: 'FEATURE-345678'
  },
  {
    icon: 'ğŸ“',
    iconColor: '#722ed1',
    title: 'å®Œå–„APIæ–‡æ¡£',
    code: 'DOC-901234'
  },
  {
    icon: 'ğŸ”§',
    iconColor: '#13c2c2',
    title: 'é‡æ„æ•°æ®åº“æŸ¥è¯¢æ¨¡å—',
    code: 'REFACTOR-567890'
  }
]

const priorityOptions = [
  { label: 'æœ€é«˜', value: 'highest' },
  { label: 'é«˜', value: 'high' },
  { label: 'ä¸­', value: 'medium' },
  { label: 'ä½', value: 'low' },
  { label: 'æœ€ä½', value: 'lowest' }
]

const statusOptions = [
  { label: 'å¾…åŠ', value: 'todo' },
  { label: 'è¿›è¡Œä¸­', value: 'in-progress' },
  { label: 'å·²å®Œæˆ', value: 'done' },
  { label: 'å·²å…³é—­', value: 'closed' },
  { label: 'è¢«é˜»å¡', value: 'blocked' }
]

const userList = [
  { id: 1, name: 'å¼ ä¸‰', email: 'zhangsan@example.com', color: '#4A7BA7' },
  { id: 2, name: 'æå››', email: 'lisi@example.com', color: '#00875A' },
  { id: 3, name: 'ç‹äº”', email: 'wangwu@example.com', color: '#6554C0' },
  { id: 4, name: 'èµµå…­', email: 'zhaoliu@example.com', color: '#FF5630' },
  { id: 5, name: 'é’±ä¸ƒ', email: 'qianqi@example.com', color: '#FF991F' },
  { id: 6, name: 'å­™å…«', email: 'sunba@example.com', color: '#36B37E' }
]

const handleSearch = (value) => {
  console.log('æœç´¢:', value)
}
</script>

<style scoped>
.component-demo-page {
  padding: 40px;
  background-color: #f4f5f7;
}

.component-section {
  background-color: white;
  border-radius: 8px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}

.component-section h2 {
  margin: 0 0 8px;
  font-size: 20px;
  font-weight: 600;
  color: #172b4d;
}

.component-desc {
  margin: 0 0 20px;
  padding-bottom: 16px;
  font-size: 14px;
  color: #606266;
  line-height: 1.6;
  border-bottom: 1px solid #e4e7ed;
}

.component-demo {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.data-preview {
  background-color: #f4f5f7;
  border-radius: 4px;
  padding: 16px;
  overflow-x: auto;
}

.data-preview pre {
  margin: 0;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  color: #172b4d;
  line-height: 1.6;
}

@media (max-width: 768px) {
  .component-demo-page {
    padding: 20px;
  }

  .component-demo {
    grid-template-columns: 1fr;
  }
}
</style>
